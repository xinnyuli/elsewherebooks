# 📚 Elsewhere Books 记账本 - 快速启动指南

## 🚀 最快启动方式

### Windows用户（推荐）

**方法1：双击批处理文件**（最简单）
```
双击 "启动书店记账本.bat"
```
- ✅ 自动检测Python环境
- ✅ 后台运行（无控制台窗口）
- ✅ 一键启动

**方法2：创建桌面快捷方式**
1. 右键 `启动书店记账本.bat` → 发送到 → 桌面快捷方式
2. 右键快捷方式 → 属性 → 更改图标（可选）
3. 以后直接双击桌面图标启动

**方法3：固定到任务栏**
1. 创建桌面快捷方式（按方法2）
2. 将快捷方式拖到任务栏
3. 一键启动

### Mac用户

**方法1：使用.command脚本**
```bash
双击 "启动书店记账本.command"
```

**方法2：创建应用程序别名**（最便捷）
```bash
# 1. 打开 Automator（自动操作）
# 2. 新建 "应用程序"
# 3. 添加 "运行Shell脚本"
# 4. 输入：
cd ~/Desktop/ElseWhereBooks/MyBookCalculator
python3 book_price_gui.py

# 5. 保存为 "书店记账本.app" 到应用程序文件夹
# 6. 拖到Dock栏即可一键启动
```

**方法3：使用启动器**
```bash
# Alfred / Raycast 用户
cd ~/Desktop/ElseWhereBooks/MyBookCalculator && python3 book_price_gui.py
```

---

## ⚡ 性能优化提示

### 1. 首次启动优化
如果首次启动较慢，可预先安装依赖：
```bash
pip install customtkinter requests pypinyin
```

### 2. 关闭不必要的启动项
在配置文件中可以调整：
- 汇率自动更新间隔（默认=24小时）
- 历史记录加载数量

### 3. 数据文件位置
所有数据保存在：
```
Windows: C:\Users\你的用户名\.bookstore_data\
Mac:     /Users/你的用户名/.bookstore_data/
```

如需备份，复制此文件夹即可。

---

## 🔧 常见问题

### Q: 双击bat文件一闪而过？
**A:** Python未正确安装，请：
1. 访问 https://www.python.org/downloads/
2. 下载Python 3.10+
3. **重要**：安装时勾选 "Add Python to PATH"

### Q: Mac提示"无法打开未知开发者"？
**A:** 
```bash
# 终端执行：
chmod +x 启动书店记账本.command
xattr -d com.apple.quarantine 启动书店记账本.command
```

### Q: 如何设置开机自启动？
**A:** 
- **Windows**: 将 `启动书店记账本.bat` 快捷方式放入：
  ```
  C:\Users\你的用户名\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup
  ```
  
- **Mac**: 系统设置 → 用户与群组 → 登录项 → 添加 "书店记账本.app"

### Q: 启动后没有窗口？
**A:** 检查是否已经在运行（任务栏/Dock有图标）。如果卡住，结束进程后重新启动。

---

## 🧪 功能测试

运行测试脚本验证所有功能：
```bash
python 测试功能.py
```

测试单个模块：
```bash
python 测试功能.py PricingEngine
```

可用测试模块：
- `DataService` - 数据读写测试
- `PricingEngine` - 定价计算测试
- `ExchangeRateService` - 汇率服务测试
- `MemberVsStandard` - 会员/非会员逻辑测试
- `EdgeCases` - 边界情况测试

---

## 📋 启动检查清单

使用前确认：
- [ ] Python 3.10+ 已安装
- [ ] 依赖包已安装（`pip install -r requirements.txt`）
- [ ] 网络连接正常（首次需下载汇率）
- [ ] 启动脚本有执行权限（Mac/Linux）

---

## 🎯 最佳实践

### 日常使用流程
1. **早上开店** → 双击启动
2. **添加书籍** → 录入信息
3. **选择类型** → 会员/非会员
4. **确认售出** → 自动保存
5. **查看记录** → 点击"销售记录"按钮
6. **导出报表** → 点击"导出Excel"
7. **晚上关店** → 直接关闭窗口

### 备份建议
- **每周备份** `.bookstore_data` 文件夹
- **月底导出Excel** 存档
- **定期同步到云盘**（OneDrive/iCloud）

### 多台电脑同步
使用Git仓库（已配置）：
```bash
# 电脑A提交
git add .
git commit -m "更新销售数据"
git push

# 电脑B拉取
git pull
```

---

## 📞 技术支持

遇到问题？
1. 查看 `使用指南.md`
2. 运行 `python 测试功能.py` 检查
3. 查看错误日志（控制台输出）
4. GitHub提交Issue

---

**祝使用愉快！📚✨**
